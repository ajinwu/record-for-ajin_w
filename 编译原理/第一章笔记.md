<!--
 * Author       : ajin
 * Date         : 2020-03-06 13:04:41
 * Description  : 
 * email        : ajin_w@163.com
 * 那曾梦想屠龙的少年，终会变成油腻的中年大叔，
 * 端坐于显示器前，从指尖流淌的代码，终会改变
 * 整个世界
 -->


## 从面向机器的语言到面向人类的语言
1. 机器语言
    1. 二进制, 难以理解, 执行效率高
    2. 汇编语言, 将二进制翻译成指令, 二者无本质区别, 要求程序员根据指令工作的方式思考
2. 面向人类的语言
    1. 通用程序设计语言, 语言结构符合人类的思想, 具有很高的抽象程度, 程序设计强调逻辑过程
    2. 数据查询语言, sql
    3. 形式化查询语言, yacc
    4. 面向特定领域的语言, html等

## 语言之间的翻译
语言之间进行翻译和解释为机器所能理解的语言,称之为翻译

## 编译器和解释器
1. 编译器是一个黑盒子, 源程序的翻译和翻译后的执行是两个阶段
2. 解释器是把翻译和执行放在一起,边翻译边执行
3. 区别: 解释器具有良好的动态性, 具有良好的可移植性, 运行过程中, 解释执行需要时间, 在空间上需要有用户程序的空间还要有解释器运行的空间

## 编译器的工作原理和基本组成
1. 通用程序设计语言的主要成分: 过程, 模块, 类
2. 以阶段划分编译器: **词法分析**, 识别出合法的单词; 其次是**句法分析**,得到由单词组成的句子结构; 然后进行**语义分析**,并且生成目标程序, 为了使编译工作更好的进行, 编译器往往在语义分析后**生成中间代码**, 并且可以对中间代码进行优化, 最后根据优化的中间代码生成目标程序

![编译器工作阶段示意图](https://lh3.googleusercontent.com/proxy/yYsw60uYORcAdURv1MutxuwCMjEdXPFZPG6tKZ_NjznEhcVWoREGat_bRax5zwheOLufWYzyUcm3IxfwfKHqNW6ojB6OQDODiwOR-i6ksk0TWibbB_ianT6iyy5fJBbKIo07Z3g)

3. 编译器各阶段的工作

    1. 首先进行词法分析,完成后输入给**语法分析器**, 并以树的形式表示出来, 称为语法树

    2. 对于声明语句,首先进行符号表的查填

    3. 对于可执行语句, 检查结构合理的表达式是否有意义

    4. 生成中间代码, 仅涉及源程序中的赋值语句, 中间代码生成器对语法树进行遍历, 并生成可以顺序执行的中间代码序列

    5. 最后根据优化的中间代码生成目标代码

归纳上述流程:

> 词法分析:关键字, 标识符, 字面量, 特殊符号(op)

> 语法分析: 识别句子, 并生成语法树

> 语义分析: 根据语义规则对语法树中的语法单元进行静态检查(类型检查和转换等)

> 中间代码生成: 根据语义分析器的输出生成中间代码(解释器可开始运行或者生成中间代码,对中间代码进行统一执行)

> 中间代码优化: 是一种等价转换过程, 变换前后功能相同, 只是执行效率更高

> 目标代码生成: 汇编语言形式(便于实现交叉编译), 可重定位二进制形式, 内存形式(编译后直接执行, 不落盘)

> 符号表管理: 记录源程序重要信息,并加以组织, 从而在编译各个阶段进行快速查找

> 出错管理

4. 编译器的分析/综合部分, 从词法分析到中间代码生成的工作称为分析, 然后知道目标代码生成称为综合部分, 也称为编译器的前后端

5. 编译器的扫描变数, 词法分析,句法分析等都可以进行扫描, 但是降低效率, 因此, 编译器经常将多个阶段的扫描合称为一次扫描

