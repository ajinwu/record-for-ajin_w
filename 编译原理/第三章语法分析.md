<!--
 * Author       : ajin
 * Date         : 2020-03-27 11:28:40
 * Description  : 
 * email        : ajin_w@163.com
 * 那曾梦想屠龙的少年，终会变成油腻的中年大叔，端坐于显示器前，从指尖流淌的代码，终会改变整个世界
 -->


从词法分析角度来看, 语言是一个单词的集合, 称之为正规集, 单词是由一个个字符组成的线性结构, 从语法分析角度来看, 语言是一个句子的集合, 而句子是由词法分析器返回的记号组成的非线性结构, 反映句子结构最好的方法是树

词法分析具有双重含义: 

1. 规定句子形成的规则, 也称为语法规则, 程序设计语言大部分语法规则可以用上下文无关文法(context free grammar, CFG)来描述
2. 根据语法规则识别记号流中的语言结构, 也称为语法分析

## 语法分析中的问题
### 语法分析器的作用
前端的中心部件是语法分析器, 主要作用:

1. 根据词法分析提供的记号流, 为语法正确的输入构造分析树
2. 检查输入中的语法(也包括词法)错误, 并调用出错处理器进行适当处理

### 语法错误的处理原则
1. 源程序可能出现的错误分为两类, 语法错误和语义错误, 语法错误又包括词法错误和语法错误, 词法错误值出现非法字符或关键字,标识符拼写错误等, 语法错误是指语法结构出错, 结构匹配问题等. 语义错误包括静态语义错误和动态语义错误, 静态语义错误涉及的是编译时可检查出来的错误, 如类型不一致, 参数匹配等, 动态语义错误一般是值程序运行时的逻辑错误等

2. 语法错误处理的目标
    1. 清楚准确的报告错误的出现, 地点正确, 不漏报, 不错报, 不多报
    2. 迅速恢复错误
    3. 对语法正确源程序分析速度不应该降低太多

3. 语法错误的恢复策略
    1. 紧急方式恢复, 发现错误,分析器抛弃输入记号, 向前搜索到指定合法记号集合为止
    2. 短语级恢复: 发现错误时, 分析器采用串替换的方式对剩余输入进行局部纠正, 他用可以使分析器继续的输入串来代替剩余输入的前缀
    3. 出错产生式: 预测被分析语言可能出现的错误, 用出错产生式来捕捉错误
    4. 全局纠正: 对有语法错误的输入序列, 根据文法G构造相近的序列y的语法树, 使得x变换成y所需的修改次数最小


## 上下文无关文法
### 上下文无关文法的定义与表示
是由一个四元组 G = (N, T, P, S)
1. N是非终结符的有限集合
2. T是终结符的有限集合, 且 N n T = 空集
3. P是产生式的有限集合
4. S是非终结符, 称为文法的开始符号

### CFG产生语言的基本方法--推导
1. 将产生式 A -> y 的右部代替文法符号序列 aAb 中的A得到 ayb的过程称为aAb直接推导出 ayb, * 零步推导和多步推导,至少一步推导, 即为+, 人和我文法符号序列 都可以推导出它自身, 推导具有传递性

2. 在推导过程中, 若每次直接推导均替换句型中最左边的非终结符, 则称为最左推导, 由最左推导产生的句型也称为左句型

### 推导, 分析树, 语法树
1. 对于CFG G的句型, 分析树定定义为具有以下性质的树
    1. 根由开始符号所标记
    2. 每个叶子由一个终结符, 非终结符或e标记
    3. 每个内部结点由一个非终结符标记

分析树与文法和语言存在关系: 每一直接推导(或者每个产生式)对应一颗仅有父子关系的子树, 即产生式左部非终结符"长出"右部的孩子, 分析树的叶子从左到右构成G的一个句型, 若叶子仅有终结符标记, 则构成一个句子

2. 对于CFG G的句型, 表达式的语法树被定义为具有一下性质的树
    1. 根与内部结点有表达式的操作符标记
    2. 叶子由表达式中的操作数标记
    3. 用于改变运算优先级和结合性的括弧被隐含在语法树的结构中