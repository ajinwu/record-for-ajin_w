# python 风格
1. 特殊风格
   1. __getitem__方法是实现列表进行选取的方法, 并且还支持切片语法, 并且只要实现了这个方法, 这个对象就变成了可迭代的对象, 实现方式, 返回一个本对象的一个结点
   2. in运算符是contains方法实现的, 如果没有实现这个方法, 那么in运算符就是按顺序进行一次迭代搜索
2. 如何使用特殊风格<br />
特殊方法的存在是为了被解释器调用的, 不需要自己调用, 也就是你需要len(object)而不是object.len(), 如果是py内置的类型, 如list, str等, cpython的__len__会直接返回pyvarobject中的ob_size属性, pyvarobject是表示内存中长度可变的内置对象的C语言结构体. 速度会快很多.
很多时候, 特殊方法的调用是隐式的, 例如for i in xx, 背后使用的是iter(xx)函数, 而iter实现是xx.__iter__()方法, 通过内置的函数, 如len, str来使用特殊方法是最好的选择, 这些内置函数会调用特殊方法, 且对于内置类来说, 他们的速度会更快.
   1. 模拟数值类型
      1. 如果一个对象可以获取 obj 的字符串表示, 他需要实现__repr__或者__str__方法, + 为__add__方法, * 为__mul__方法
   2. 字符串表示形式<br />
      1. __repr__ 用于生成正式的表示。可以认为是将对象序列化的方法，原则上要能反序列化回对象。
      2. __str__ 用于生成非正式的表示。format 或 print 会调用它来为用户生成“友好的”显示。
    > str 与repr对比, repr 并不强制生成的字符串可以反序列化

    > 1.repr 生成的字符串一般用于 debug，所以一般生成的字符串一般要包含尽可能多的信息，信息要尽可能明确(如默认实现里用 ID 区分开两个不同的对象)。

    > 2.不要使用 repr 和 eval 来做序列化/反序列化，用 pickle 或 json。
    > 3.obj.__str__() 方法会在 print(obj) 或 '{}'.format(obj) 时被调用，一般是为了给用户提供 "友好的" 显示，所以 __str__ 不像__repr__ 那样原则上对返回值有约定，想怎么搞都行。

    > 4.另外，__str__ 的默认实现是直接调用了 __repr__ 方法。因此如果覆盖了 __repr__ 方法，__str__ 的结果也会随之改变。
    
    > 5.如果只想实现其中的一个方法, __repr__是最好的选择, 如果一个对象没有str方法而需要使用时, 会使用repr代替
      3. 自定义的布尔值
      4. 默认情况下, 我们自定义的类总是被认为是真的, 除非是对__bool__ 或者__len__做了实现, 如果不存在__bool__, 则会调用__len__方法
   3. [特殊方法对照表](https://docs.python.org/zh-cn/3/reference/datamodel.html)

