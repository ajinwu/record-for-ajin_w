## 虚拟存储器概述
1. 常规存储器管理方式的特征和局部性原理
   1. 常规存储器管理方式的特征
      1. 一次性, 大型作业全部装入内存才能使用, 事实上, 许多作业并不需要全部程序和数据, 是对空间的浪费
      2. 驻留型, 程序在结束前, 整个作业都会在内存中
   2. 局部性原理(时间局限性和空间局限性)
      1. 程序执行时, 除了少部分转移和过程调用外, 大部分为顺序执行
      2. 程序在一段时间内, 都局限在一个过程范围内
      3. 循环结构会多次执行
      4. 数据结构的处理局限在很小的范围
   3. 虚拟存储器工作情况<br />
   程序在调用时, 将所要访问的页(段)放入内存, 继续执行; 如果程序所访问的尚未调入, 便发出缺页中断请求, os将利用调页功能装入内存, 如果内存已满, os还需要也用页置换功能, 将内存中不用的页放在磁盘上, 再装入内存

2. 虚拟存储器的定义和特征
   1. 虚拟存储器定义, 通过使用请求调入和置换功能, 能从逻辑上对内存容量加以扩充的一种存储器系统
   2. 虚拟存储器的特征
      1. 多次性, 只需要将当前运行需要的程序和数据装入内存即可运行
      2. 对换性, 允许作业在运行过程中对程序数据换入换出
      3. 虚拟性, 在逻辑上扩充内存容量, 使用户看到的内存比实际高
3. 虚拟存储器实现方法
   1. 分页请求系统, 在分页系统的基础上增加了请求调页功能和页面置换功能所形成的页式虚拟存储系统
      1. 硬件支持
         1. 请求分页的页表机制
         2. 缺页中断机制
         3. 地址变换机制
      2. 实现请求分页的软件
   2. 请求分段系统

## 请求分页存储管理方式
1. 硬件支持
   1. 请求页表机制
      1. 状态位, 判断该页是否进入内存
      2. 访问字段记录访问次数, 提供给置换算法
      3. 修改位, 回写到磁盘
      4. 外存地址, 用于指出该页在外存上的地址
   2. 缺页中断
      1. 在指令执行期间产生和处理中断信号
      2. 一条指令在执行期间产生多次终端
   3. 地址变换机构
2. 请求分页中的内存分配
   1. 最小物理块的确定
   2. 内存分配策略
      1. 固定分配, 局部置换
      2. 可变分配全局配置
      3. 可变分配局部配置
   3. 物理块分配算法
      1. 平均分配
      2. 按比例分配算法
3. 页面调入策略
   1. 何时调入
      1. 预调页, 在连续区域内, 一次调入若干相邻页
      2. 请求调页策略
   2. 从何处调入
      1. 系统拥有足够的对换区空间, 从对换区调入
      2. 不足从文件区调入
      3. UNIX方式, 都在文件区
   3. 页面调入过程, 中断->保留cpu环境->查页表->调入修改页表->回写
   4. 缺页率
      1. 页面大小
      2. 进程所分配物理块数目
      3. 页面置换算法
      4. 程序固有特性

## 页面置换算法
1. 最佳置换算法和先进先出置换算法
2. 最近最久未使用和最少使用算法
3. clock置换算法
4. 页面缓冲算法
   1. 影响页面换进换出效率的因素
      1. 页面置换算法
      2. 写会磁盘的效率
      3. 读入内存的频率
   2. 页面缓冲算法PBA
      1. 空闲页面链表
      2. 修改页面链表
5. 访问内存有效时间

## 抖动与工作集
1. 多道程序与抖动
   1. 多道程序与处理机利用率
   2. 抖动原因, 物理块太少, 频繁换入换出, 磁盘长时间处于工作状态
2. 工作集
   1. 概念, 程序对页面的访问是不均匀的, 同意时间局限于较小的页面, 这些页面称为活跃页面
   2. 定义, 某段时间内进程实际访问页面的集合
3. 抖动预防方法
   1. 采取局部置换策略, 进程发生缺页时只是用自己的物理块, 不允许获得新的物理块.
   2. 把工作集算法融入到处理机调度, 调度之间检查每个进程驻留页面是否足够. 不够增加物理块
   3. L = S 原则, L为缺页之间的平均时间, S 为平均缺页服务时间, L大于S, 很少发生缺页, 磁盘能力未充分利用.
   4. 选择暂停的程序, 选择利用率较高的换出

## 请求分段存储管理方式
1. 请求分段中的硬件支持
   1. 请求段表机制 
   2. 缺段终端机构
   3. 地址变换机构
2. 分段共享和保护
   1. 共享段表
   2. 共享表的分配和回收
   3. 分段保护